<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>:Title</title>
<style type="text/css"> 

html,body {
    margin: 0px;
    width: 100%;
}

.userInfoModify_logininfobody { 
    width: 100%;
    display: flex;
    flex-direction: row;
    justify-content: center;
}

.userInfoModify_logininfo { 
    width: 1650px;
    margin:0 auto;
    position: fixed;
    top: 0px;
}

.userInfoModify_logininfo1{ width:1650px;margin:0 auto; margin-top:28px;}
.userInfoModify_labeTag  ,.userInfoModify_ClassName_Title ,.userInfoModify_MethodName_Title ,.userInfoModify_LineNumber_Title ,.userInfoModify_LogLevel_Title ,.userInfoModify_TotalCount_Title ,.userInfoModify_RequestCount_Title ,.userInfoModify_WarnCount_Title ,.userInfoModify_ErrorFatalCount_Title ,.userInfoModify_IsRunning_Title ,.userInfoModify_ExecSumTime_Title ,.userInfoModify_ExecAvgTime_Title ,.userInfoModify_LastTime_Title {float:left; height:30px; line-height:30px; font-weight:bold; font-family:"微软雅黑"; font-size:14px; background-color:#D5DDF6;}
.userInfoModify_labeTag1 ,.userInfoModify_ClassName       ,.userInfoModify_MethodName       ,.userInfoModify_LineNumber       ,.userInfoModify_LogLevel       ,.userInfoModify_TotalCount       ,.userInfoModify_RequestCount       ,.userInfoModify_WarnCount       ,.userInfoModify_ErrorFatalCount       ,.userInfoModify_IsRunning       ,.userInfoModify_ExecSumTime       ,.userInfoModify_ExecAvgTime       ,.userInfoModify_LastTime       {float:left; height:30px; line-height:30px;                   font-family:"微软雅黑"; font-size:12px;}
.userInfoModify_labeTag2 ,.userInfoModify_ClassName_Other ,.userInfoModify_MethodName_Other ,.userInfoModify_LineNumber_Other ,.userInfoModify_LogLevel_Other ,.userInfoModify_TotalCount_Other ,.userInfoModify_RequestCount_Other ,.userInfoModify_WarnCount_Other ,.userInfoModify_ErrorFatalCount_Other ,.userInfoModify_IsRunning_Other ,.userInfoModify_ExecSumTime_Other ,.userInfoModify_ExecAvgTime_Other ,.userInfoModify_LastTime_Other {float:left; height:30px; line-height:30px;                   font-family:"微软雅黑"; font-size:12px; border:#97B0F8 solid 0px;}

.userInfoModify_clearTag  {clear:both;height:36px;margin-top:0px;position:absolute;z-index:2008;} 
.userInfoModify_clearTag1 {clear:both;height:36px;margin-top:0px;} 
.userInfoModify_labeTag               { width:40px;  text-align:center; border:#97B0F8 solid 1px; } 
.userInfoModify_ClassName_Title       { width:400px; vertical-align:middle;text-align:center;border-top: #97B0F8 solid 1px;border-bottom: #97B0F8 solid 1px;}  
.userInfoModify_MethodName_Title      { width:200px; text-align:center; border: #97B0F8 solid 1px;}
.userInfoModify_LineNumber_Title      { width:100px; text-align:center; border-top: #97B0F8 solid 1px;border-bottom: #97B0F8 solid 1px;}
.userInfoModify_LogLevel_Title        { width:90px;  text-align:center; border: #97B0F8 solid 1px;}
.userInfoModify_TotalCount_Title      { width:100px; text-align:center; border-top: #97B0F8 solid 1px;border-bottom: #97B0F8 solid 1px;}
.userInfoModify_RequestCount_Title    { width:100px; text-align:center; border: #97B0F8 solid 1px;}
.userInfoModify_WarnCount_Title       { width:90px;  text-align:center; border-top: #97B0F8 solid 1px;border-bottom: #97B0F8 solid 1px;}
.userInfoModify_ErrorFatalCount_Title { width:90px;  text-align:center; border: #97B0F8 solid 1px;}
.userInfoModify_IsRunning_Title       { width:70px;  text-align:center; border-top: #97B0F8 solid 1px;border-bottom: #97B0F8 solid 1px;}
.userInfoModify_ExecSumTime_Title     { width:110px; text-align:center; border: #97B0F8 solid 1px;}
.userInfoModify_ExecAvgTime_Title     { width:100px; text-align:center; border-top: #97B0F8 solid 1px;border-bottom: #97B0F8 solid 1px;}
.userInfoModify_LastTime_Title        { width:135px; text-align:center; border: #97B0F8 solid 1px;}

.userInfoModify_labeTag1        { width:40px;  text-align:center; border:#97B0F8 solid 1px;  } 
.userInfoModify_ClassName       { width:400px; text-align:left;   border-top: #97B0F8 solid 1px;border-bottom: #97B0F8 solid 1px;}  
.userInfoModify_MethodName      { width:200px; text-align:left;   border:#97B0F8 solid 1px;} 
.userInfoModify_LineNumber      { width:100px; text-align:center; border-top: #97B0F8 solid 1px;border-bottom: #97B0F8 solid 1px;} 
.userInfoModify_LogLevel        { width:90px;  text-align:center; border:#97B0F8 solid 1px;} 
.userInfoModify_TotalCount      { width:100px; text-align:center; border-top: #97B0F8 solid 1px;border-bottom: #97B0F8 solid 1px;} 
.userInfoModify_RequestCount    { width:100px; text-align:center; border:#97B0F8 solid 1px;} 
.userInfoModify_WarnCount       { width:90px;  text-align:center; border-top: #97B0F8 solid 1px;border-bottom: #97B0F8 solid 1px;} 
.userInfoModify_ErrorFatalCount { width:90px;  text-align:center; border:#97B0F8 solid 1px;}  
.userInfoModify_IsRunning       { width:70px;  text-align:center; border-top: #97B0F8 solid 1px;border-bottom: #97B0F8 solid 1px;} 
.userInfoModify_ExecSumTime     { width:110px; text-align:center; border:#97B0F8 solid 1px;}  
.userInfoModify_ExecAvgTime     { width:100px; text-align:center; border-top: #97B0F8 solid 1px;border-bottom: #97B0F8 solid 1px;} 
.userInfoModify_LastTime        { width:135px; text-align:center; border:#97B0F8 solid 1px;}  

.userInfoModify_labeTag2              { width:40px;  text-align:center;} 
.userInfoModify_ClassName_Other       { width:400px; text-align:left;}  
.userInfoModify_MethodName_Other      { width:200px; text-align:left;} 
.userInfoModify_LineNumber_Other      { width:100px; text-align:left;} 
.userInfoModify_LogLevel_Other        { width:90px;  text-align:left;}
.userInfoModify_TotalCount_Other      { width:100px; text-align:left;}  
.userInfoModify_RequestCount_Other    { width:100px; text-align:left;} 
.userInfoModify_WarnCount_Other       { width:90px;  text-align:left;} 
.userInfoModify_ErrorFatalCount_Other { width:90px;  text-align:left;} 
.userInfoModify_IsRunning_Other       { width:70px;  text-align:left;} 
.userInfoModify_ExecSumTime_Other     { width:110px; text-align:left;} 
.userInfoModify_ExecAvgTime_Other     { width:100px; text-align:left;} 
.userInfoModify_LastTime_Other        { width:135px; text-align:left;} 

.cont_show_ClassName       { width:395px; margin-left:5px;white-space:nowrap;overflow:hidden;-o-text-overflow:ellipsis;text-overflow:ellipsis; } 
.cont_show_MethodName      { width:195px; margin-left:5px;white-space:nowrap;overflow:hidden;-o-text-overflow:ellipsis;text-overflow:ellipsis; } 
.cont_show_LineNumber      { width:100px; margin-left:0px;white-space:nowrap;overflow:hidden;-o-text-overflow:ellipsis;text-overflow:ellipsis; } 
.cont_show_LogLevel        { width:90px;  margin-left:0px;white-space:nowrap;overflow:hidden;-o-text-overflow:ellipsis;text-overflow:ellipsis; } 
.cont_show_TotalCount      { width:100px; margin-left:0px;white-space:nowrap;overflow:hidden;-o-text-overflow:ellipsis;text-overflow:ellipsis; } 
.cont_show_RequestCount    { width:100px; margin-left:0px;white-space:nowrap;overflow:hidden;-o-text-overflow:ellipsis;text-overflow:ellipsis; } 
.cont_show_WarnCount       { width:90px;  margin-left:0px;white-space:nowrap;overflow:hidden;-o-text-overflow:ellipsis;text-overflow:ellipsis; } 
.cont_show_ErrorFatalCount { width:90px;  margin-left:0px;white-space:nowrap;overflow:hidden;-o-text-overflow:ellipsis;text-overflow:ellipsis; } 
.cont_show_IsRunning       { width:70px;  margin-left:0px;white-space:nowrap;overflow:hidden;-o-text-overflow:ellipsis;text-overflow:ellipsis; } 
.cont_show_ExecSumTime     { width:110px; margin-left:0px;white-space:nowrap;overflow:hidden;-o-text-overflow:ellipsis;text-overflow:ellipsis; } 
.cont_show_ExecAvgTime     { width:100px; margin-left:0px;white-space:nowrap;overflow:hidden;-o-text-overflow:ellipsis;text-overflow:ellipsis; } 
.cont_show_LastTime        { width:135px; margin-left:0px;white-space:nowrap;overflow:hidden;-o-text-overflow:ellipsis;text-overflow:ellipsis; } 


a { color:#669900; text-decoration:none; outline:none;}
a:hover {color:#99CC00;text-decoration:none;}

.ShowEveryOne { color:#669900; text-decoration:none; outline:none;}
.ShowEveryOne:hover {color:#99CC00;text-decoration:none;}

.input-text{ 
    vertical-align:middle; 
    height:22px; 
    padding:2px; 
    border:#7992bb solid 1px; 
    color:#000000; 
    font-family:"宋体" Arial, Helvetica, sans-serif;
    width:256px;
}

.rightMenuBar {
    position: fixed;
    top: 36%;
    right: 20px;
    display: flex;
    flex-direction: column;
}

.rightMenu {
    width: 40px;
    height: 40px;
    background-color: #666666;
    border-radius: 6px;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    z-index: 9999990;
    margin-bottom: 6px;
}

.rightMenuIcon {
    font-size: 14px;
    font-weight: bold;
    color: white;
    flex-direction: column;
    align-items: center;
    justify-content: center;
}

.rightMenuIsAutoRefresh {
}

.rightMenuToTop {
}
</style>

<script type="text/javascript" src=":HttpBasePath/jquery/jquery.min.js"></script>
<script type="text/javascript" src=":HttpBasePath/d3/d3.min.js"></script>

</head>
<body> 

    <!-- 右侧浮动菜单 -->
    <div class="rightMenuBar">
        <div class="rightMenu" id="menuIsAutoRefresh">
            <div class="rightMenuIcon rightMenuIsAutoRefresh" data-toggle="tooltip" data-placement="center" title="自动刷新">R</div>
        </div>
        
        <div class="rightMenu" id="menuToTop">
            <div class="rightMenuIcon rightMenuToTop"         data-toggle="tooltip" data-placement="center" title="置顶">Top</div>
        </div>
    </div>
        
    <input type="hidden" id="cluster"      name="cluster"      value=":Cluster" />
    <input type="hidden" id="S"            name="S"            value=":Sort" />
    <input type="hidden" id="TT"           name="TT"           value=":TotalType" />
    <input type="hidden" id="Timer"        name="Timer"        value=":Timer" />
    <input type="hidden" id="ShowEveryOne" name="ShowEveryOne" value=":ShowEveryOne" />
     
    <div class="userInfoModify_logininfobody" >
       <div class="userInfoModify_logininfo" /> 
       <div class="userInfoModify_clearTag">
             <div>
                 <input type="text" id="FilterClassName" name="FilterClassName" value=":FilterClassName" class="input-text" style="width:1632px;" placeholder="类名称的模糊过滤条件（不区分大小写）" />
             </div>
       
             <div class="userInfoModify_labeTag">编号</div>
             <div class="userInfoModify_ClassName_Title">      <a id="Title_ClassName"       href="#" style='color:#AA66CC'>类名称</a>:GotoTitle</div>
             <div class="userInfoModify_MethodName_Title">方法名称:Goto_02_Title</div>
             <div class="userInfoModify_LineNumber_Title">代码行</div>
             <div class="userInfoModify_LogLevel_Title">日志级别</div>
             <div class="userInfoModify_TotalCount_Title">日志代码量</div>
             <div class="userInfoModify_RequestCount_Title">   <a id="Title_RequestCount"    href="#" style='color:#AA66CC'>日志量</a></div>
             <div class="userInfoModify_WarnCount_Title">      <a id="Title_WarnCount"       href="#" style='color:#AA66CC'>Warn级量</a></div>
             <div class="userInfoModify_ErrorFatalCount_Title"><a id="Title_ErrorFatalCount" href="#" style='color:#AA66CC'>Error级量</a></div>
             <div class="userInfoModify_IsRunning_Title" title="估算运行状态。可能误判的原因如: &#10;&#10;1. 异常未捕获；&#10;2. 多个if语句输出同一日志">运行状态</div>
             <div class="userInfoModify_ExecSumTime_Title">    <a id="Title_ExecSumTime"     href="#" style='color:#AA66CC'>业务累计用时</a></div>
             <div class="userInfoModify_ExecAvgTime_Title">    <a id="Title_ExecAvgTime"     href="#" style='color:#AA66CC'>业务平均用时</a></div>
             <div class="userInfoModify_LastTime_Title">       <a id="Title_LastTime"        href="#" style='color:#AA66CC'>操作时间</a></div>
       </div> 
      
    </div> 
       
<script language="javascript" type="text/javascript">

function f_Goto()
{
    var v_Timestamp = new Date().getTime();
    
    if ( $("#cluster").val() == "Y" || $("#cluster").val() == "y" )
    {
        window.location.href = "analyseObject?logger=Y&S=" + $("#S").val() + "&TT=" + $("#TT").val() + "&cluster=Y&FCN=" + $("#FilterClassName").val() + "&Timer=" + $("#Timer").val() + "&ShowEveryOne=" + $("#ShowEveryOne").val() + "&r=" + v_Timestamp;
    }
    else
    {
        window.location.href = "analyseObject?logger=Y&S=" + $("#S").val() + "&TT=" + $("#TT").val() + "&FCN=" + $("#FilterClassName").val() + "&Timer=" + $("#Timer").val() + "&ShowEveryOne=" + $("#ShowEveryOne").val() + "&r=" + v_Timestamp;
    }
}



function f_GotoNew(i_ClassName)
{
    if ( $("#cluster").val() == "Y" || $("#cluster").val() == "y" )
    {
        var v_Timestamp = new Date().getTime();
        window.open(":HttpBasePath/analyses/analyseObject?logger=Y&S=name" + "&TT=" + $("#TT").val() + "&cluster=Y&FCN=" + i_ClassName + "&ShowEveryOne=Y" + "&r=" + v_Timestamp);
    }
}



$(window).bind("scroll" ,function()
{
    if ( $(document).scrollTop() <= 0 )
    {
        d3.select("#menuToTop").style("visibility" ,"hidden");
    } 
    else
    {
        d3.select("#menuToTop").style("visibility" ,"visible");
    }
});
d3.select("#menuToTop").style("visibility" ,"hidden");



d3.selectAll(".rightMenu")
.on("mouseover" ,function()
{
    d3.select(this).style("background-color" ,"#FEBB08");
})
.on("mouseout" ,function()
{
    d3.select(this).style("background-color" ,"#666666");
});



d3.select("#menuToTop")
.on("click" ,function()
{
    $("html,body").animate({scrollTop:0} ,500);
});



$("#menuIsAutoRefresh").click(function()
{   
    if ( $("#Timer").val() == "" )
    {
        $("#Timer").val("5000");
        d3.select("#menuIsAutoRefresh").select("div").html("Stop");
        setTimeout(function()
        {
            if ( $("#Timer").val() != "" )
            {
                f_Goto();
            }
        } ,$("#Timer").val());
    }
    else
    {
        $("#Timer").val("");
        d3.select("#menuIsAutoRefresh").select("div").html("R");
    }
});



if ( $("#Timer").val() == "" )
{
    d3.select("#menuIsAutoRefresh").select("div").html("R");
}
else
{
    d3.select("#menuIsAutoRefresh").select("div").html("Stop");
    setTimeout(function()
    {
        if ( $("#Timer").val() != "" )
        {
            f_Goto();
        }
    } ,$("#Timer").val());
}



$("#FilterClassName").bind("keypress" ,function(event)
{  
    if ( event.keyCode == "13" )
    {
        f_Goto();
    }
});

$("#FilterClassName").focus();
$("#FilterClassName").select();



$("#ByClassNameTotal").click(function()
{  
    $("#TT").val("class");
    f_Goto();
});



$("#ByMethodTotal").click(function()
{  
    $("#TT").val("method");
    f_Goto();
});



$("#ByLineNumberTotal").click(function()
{  
    $("#TT").val("lineNumber");
    f_Goto();
});



$("#Title_ClassName").click(function()
{
    $("#S").val("name");
    f_Goto();
});



$("#Title_RequestCount").click(function()
{
    $("#S").val("requectCount");
    f_Goto();
});



$("#Title_WarnCount").click(function()
{
    $("#S").val("warnCount");
    f_Goto();
});



$("#Title_ErrorFatalCount").click(function()
{
    $("#S").val("errorCount");
    f_Goto();
});



$("#Title_ExecSumTime").click(function()
{
    $("#S").val("execSumTime");
    f_Goto();
});



$("#Title_ExecAvgTime").click(function()
{
    $("#S").val("execAvgTime");
    f_Goto();
});
    
    

$("#Title_LastTime").click(function()
{
    $("#S").val("lastTime");
    f_Goto();
});



$("#Title_Local_Remote").click(function()
{
    if ( $("#cluster").val() == "Y" || $("#cluster").val() == "y" )
    {
        $("#cluster").val("N");
    }
    else
    {
        $("#cluster").val("Y");
    }
    
    f_Goto();
});



if ( $("#S").val() == "requectCount" )
{
    $("#Title_RequestCount").html("↓" + $("#Title_RequestCount").html());
}
else if ( $("#S").val() == "warnCount" )
{
    $("#Title_WarnCount").html("↓" + $("#Title_WarnCount").html());
}
else if ( $("#S").val() == "errorCount" )
{
    $("#Title_ErrorFatalCount").html("↓" + $("#Title_ErrorFatalCount").html());
}
else if ( $("#S").val() == "name" )
{
    $("#Title_ClassName").html("↓" + $("#Title_ClassName").html());
}
else if ( $("#S").val() == "execSumTime" )
{
    $("#Title_ExecSumTime").html("↓" + $("#Title_ExecSumTime").html());
}
else if ( $("#S").val() == "execAvgTime" )
{
    $("#Title_ExecAvgTime").html("↓" + $("#Title_ExecAvgTime").html());
}
else
{
    $("#Title_LastTime").html("↓" + $("#Title_LastTime").html());
}

</script>
       
    <div id="info_fill" class="userInfoModify_logininfo1"> 
    
        <div class="userInfoModify_clearTag1">
            <div class="userInfoModify_labeTag2"></div>
            <div class="userInfoModify_ClassName_Other"></div>
            <div class="userInfoModify_MethodName_Other"></div>
            <div class="userInfoModify_LineNumber_Other"></div>
            <div class="userInfoModify_LogLevel_Other"></div>
            <div class="userInfoModify_TotalCount_Other"></div>
            <div class="userInfoModify_RequestCount_Other"></div>
            <div class="userInfoModify_WarnCount_Other"></div>
            <div class="userInfoModify_ErrorFatalCount_Other"></div>
            <div class="userInfoModify_IsRunning_Other"></div>
            <div class="userInfoModify_ExecSumTime_Other"></div>
            <div class="userInfoModify_ExecAvgTime_Other"></div>
            <div class="userInfoModify_LastTime_Other"></div>
        </div> 
    
        :Content 
        
        <div class="userInfoModify_clearTag1">
            <div class="userInfoModify_labeTag2"></div>
            <div class="userInfoModify_ClassName_Other"></div>
            <div class="userInfoModify_MethodName_Other"></div>
            <div class="userInfoModify_LineNumber_Other"></div>
            <div class="userInfoModify_LogLevel_Other"></div>
            <div class="userInfoModify_TotalCount_Other"></div>
            <div class="userInfoModify_RequestCount_Other"></div>
            <div class="userInfoModify_WarnCount_Other"></div>
            <div class="userInfoModify_ErrorFatalCount_Other"></div>
            <div class="userInfoModify_IsRunning_Other"></div>
            <div class="userInfoModify_ExecSumTime_Other"></div>
            <div class="userInfoModify_ExecAvgTime_Other"></div>
            <div class="userInfoModify_LastTime_Other"></div>
        </div>
    </div>

<script language="javascript" type="text/javascript">

if ( ($("#cluster")     .val() == "Y" || $("#cluster")     .val() == "y") 
 && !($("#ShowEveryOne").val() == "Y" || $("#ShowEveryOne").val() == "y") )
{
    d3.selectAll(".userInfoModify_ClassName")
    .classed("ShowEveryOne" ,true)
    .style("cursor" ,"pointer")
    .on("click" ,function()
    {
        f_GotoNew(d3.select(this).select(".cont_show_ClassName").html());
    });
}

</script>

</body>
</html>
